{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///yawp.fixtures.min.js","webpack:///webpack/bootstrap e4498e7dcf6ad1ef51a4","webpack:///./src/web/index.fixtures.js","webpack:///./src/web/request.js","webpack:///./src/commons/utils.js","webpack:///./src/commons/fixtures.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_request","_request2","fx","yawp","fixtures","resolveOrReject","request","options","resolve","reject","readyState","status","json","JSON","parse","responseText","setCrossDomain","credentials","withCredentials","setHeaders","headers","_utils","extend","Accept","Content-Type","key","hasOwnProperty","setRequestHeader","url","Promise","query","XMLHttpRequest","onreadystatechange","open","method","toUrlParam","send","body","result","arguments","i","l","length","attrname","jsonParams","keys","map","k","encodeURIComponent","join","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","DEFAULT_BASE_URL","DEFAULT_RESET_URL","DEFAULT_LAZY_PROPERTIES","Fixtures","_baseUrl","_resetUrl","_lazyProperties","promise","lazy","callback","properties","all","_this","then","clear","name","path","bindFixture","bindLazy","push","Fixture","api","Lazy","promiseFn","createApi","_this2","data","chain","load","self","createStubs","createLoadPromiseFn","_this3","getLazyDataFor","isLoaded","prepare","object","stringify","response","getData","_this4","lazyProperties","inspectLazyProperties","resolveLazyProperties","_this5","_loop","Function","actualValue","v","_ret","hasStubs","reduce","property","__stub__","_this6","createLazyStubs","_this7","getFixtureRef"],"mappings":"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","file":"yawp.fixtures.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yawp.fixtures\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yawp.fixtures\"] = factory();\n\telse\n\t\troot[\"yawp.fixtures\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yawp.fixtures\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yawp.fixtures\"] = factory();\n\telse\n\t\troot[\"yawp.fixtures\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _request = __webpack_require__(1);\n\t\n\tvar _request2 = _interopRequireDefault(_request);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar fx = __webpack_require__(3)(_request2.default);\n\t\n\tif (yawp) {\n\t    yawp.fixtures = fx;\n\t}\n\t\n\texports.default = fx;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function (url, options) {\n\t    return new Promise(function (resolve, reject) {\n\t        var query = options.query;\n\t        delete options.query;\n\t\n\t        var request = new XMLHttpRequest();\n\t\n\t        request.onreadystatechange = function () {\n\t            resolveOrReject(request, options, resolve, reject);\n\t        };\n\t\n\t        request.open(options.method, url + (query ? '?' + (0, _utils.toUrlParam)(query) : ''));\n\t        setHeaders(request, options.headers);\n\t        setCrossDomain(request, options.credentials);\n\t        request.send(options.body);\n\t    });\n\t};\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction resolveOrReject(request, options, resolve, reject) {\n\t    if (request.readyState === 4) {\n\t        if (request.status === 200) {\n\t            resolve(options.json ? JSON.parse(request.responseText) : request.responseText);\n\t        } else {\n\t            reject(request);\n\t        }\n\t    }\n\t}\n\t\n\tfunction setCrossDomain(request, credentials) {\n\t    if (!credentials || credentials === \"omit\") {\n\t        return;\n\t    }\n\t    request.withCredentials = true;\n\t}\n\t\n\tfunction setHeaders(request, headers) {\n\t    headers = headers || {};\n\t    (0, _utils.extend)(headers, {\n\t        'Accept': 'application/json',\n\t        'Content-Type': 'application/json;charset=UTF-8'\n\t    });\n\t    for (var key in headers) {\n\t        if (headers.hasOwnProperty(key)) {\n\t            request.setRequestHeader(key, headers[key]);\n\t        }\n\t    }\n\t}\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.extend = extend;\n\texports.toUrlParam = toUrlParam;\n\tfunction extend() {\n\t    var result = arguments[0] || {};\n\t\n\t    for (var i = 1, l = arguments.length; i < l; i++) {\n\t        var obj = arguments[i];\n\t        for (var attrname in obj) {\n\t            result[attrname] = obj[attrname];\n\t        }\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction toUrlParam(jsonParams) {\n\t    return Object.keys(jsonParams).map(function (k) {\n\t        return encodeURIComponent(k) + '=' + encodeURIComponent(jsonParams[k]);\n\t    }).join('&');\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DEFAULT_BASE_URL = '/fixtures';\n\tvar DEFAULT_RESET_URL = '/_ah/yawp/datastore/delete-all';\n\tvar DEFAULT_LAZY_PROPERTIES = ['id']; // needed till harmony proxies\n\t\n\texports.default = function (request) {\n\t    var Fixtures = function () {\n\t        function Fixtures() {\n\t            _classCallCheck(this, Fixtures);\n\t\n\t            this._baseUrl = DEFAULT_BASE_URL;\n\t            this._resetUrl = DEFAULT_RESET_URL;\n\t            this._lazyProperties = DEFAULT_LAZY_PROPERTIES;\n\t            this.promise = null;\n\t            this.fixtures = [];\n\t            this.lazy = {};\n\t        }\n\t\n\t        _createClass(Fixtures, [{\n\t            key: 'config',\n\t            value: function config(callback) {\n\t                callback(this);\n\t            }\n\t        }, {\n\t            key: 'baseUrl',\n\t            value: function baseUrl(url) {\n\t                this._baseUrl = url;\n\t            }\n\t        }, {\n\t            key: 'resetUrl',\n\t            value: function resetUrl(url) {\n\t                this._resetUrl = url;\n\t            }\n\t        }, {\n\t            key: 'lazyProperties',\n\t            value: function lazyProperties(properties) {\n\t                this._lazyProperties = properties;\n\t            }\n\t        }, {\n\t            key: 'reset',\n\t            value: function reset(all) {\n\t                var _this = this;\n\t\n\t                return request(this._resetUrl, {\n\t                    method: 'GET'\n\t                }).then(function () {\n\t                    _this.clear(all);\n\t                });\n\t            }\n\t        }, {\n\t            key: 'clear',\n\t            value: function clear(all) {\n\t                this.promise = null;\n\t                for (var i = 0, l = this.fixtures.length; i < l; i++) {\n\t                    var name = this.fixtures[i].name;\n\t                    var path = this.fixtures[i].path;\n\t                    this.bindFixture(name, path);\n\t                    all && this.bindLazy(name, path);\n\t                }\n\t            }\n\t        }, {\n\t            key: 'bind',\n\t            value: function bind(name, path) {\n\t                this.fixtures.push({ name: name, path: path });\n\t                this.bindFixture(name, path);\n\t                this.bindLazy(name);\n\t            }\n\t        }, {\n\t            key: 'bindFixture',\n\t            value: function bindFixture(name, path) {\n\t                this[name] = new Fixture(this, name, path).api;\n\t            }\n\t        }, {\n\t            key: 'bindLazy',\n\t            value: function bindLazy(name) {\n\t                this.lazy[name] = new Lazy(this, name).api;\n\t            }\n\t        }, {\n\t            key: 'chain',\n\t            value: function chain(promiseFn) {\n\t                if (!this.promise) {\n\t                    this.promise = promiseFn();\n\t                } else {\n\t                    this.promise = this.promise.then(promiseFn);\n\t                }\n\t                return this.promise;\n\t            }\n\t        }, {\n\t            key: 'load',\n\t            value: function load(callback) {\n\t                if (!this.promise) {\n\t                    return new Promise(function () {\n\t                        return callback && callback();\n\t                    });\n\t                }\n\t                return this.promise.then(function () {\n\t                    return callback && callback();\n\t                });\n\t            }\n\t        }]);\n\t\n\t        return Fixtures;\n\t    }();\n\t\n\t    var Fixture = function () {\n\t        function Fixture(fx, name, path) {\n\t            _classCallCheck(this, Fixture);\n\t\n\t            this.fx = fx;\n\t            this.name = name;\n\t            this.path = path;\n\t            this.api = this.createApi();\n\t        }\n\t\n\t        _createClass(Fixture, [{\n\t            key: 'createApi',\n\t            value: function createApi() {\n\t                var _this2 = this;\n\t\n\t                var api = function api(key, data) {\n\t                    return _this2.fx.chain(_this2.load(key, data));\n\t                };\n\t                api.self = this;\n\t                return api;\n\t            }\n\t        }, {\n\t            key: 'url',\n\t            value: function url() {\n\t                return this.fx._baseUrl + this.path;\n\t            }\n\t        }, {\n\t            key: 'load',\n\t            value: function load(key, data) {\n\t                this.createStubs(key);\n\t                return this.createLoadPromiseFn(key, data);\n\t            }\n\t        }, {\n\t            key: 'createLoadPromiseFn',\n\t            value: function createLoadPromiseFn(key, data) {\n\t                var _this3 = this;\n\t\n\t                if (!data) {\n\t                    data = this.getLazyDataFor(key);\n\t                }\n\t\n\t                return function () {\n\t                    if (_this3.isLoaded(key)) {\n\t                        return _this3.api[key];\n\t                    }\n\t\n\t                    return _this3.prepare(data).then(function (object) {\n\t                        return request(_this3.url(), {\n\t                            method: 'POST',\n\t                            json: true,\n\t                            body: JSON.stringify(object)\n\t                        }).then(function (response) {\n\t                            _this3.api[key] = response;\n\t                            return response;\n\t                        });\n\t                    });\n\t                };\n\t            }\n\t        }, {\n\t            key: 'getLazyDataFor',\n\t            value: function getLazyDataFor(key) {\n\t                var lazy = this.fx.lazy[this.name].self;\n\t                return lazy.getData(key);\n\t            }\n\t        }, {\n\t            key: 'prepare',\n\t            value: function prepare(data) {\n\t                var _this4 = this;\n\t\n\t                return new Promise(function (resolve) {\n\t                    var object = {};\n\t                    (0, _utils.extend)(object, data);\n\t\n\t                    var lazyProperties = [];\n\t                    _this4.inspectLazyProperties(object, lazyProperties);\n\t                    _this4.resolveLazyProperties(object, lazyProperties, resolve);\n\t                });\n\t            }\n\t        }, {\n\t            key: 'resolveLazyProperties',\n\t            value: function resolveLazyProperties(object, lazyProperties, resolve) {\n\t                if (!lazyProperties.length) {\n\t                    resolve(object);\n\t                } else {\n\t                    var promise = lazyProperties[0]();\n\t                    for (var i = 1, l = lazyProperties.length; i < l; i++) {\n\t                        promise = promise.then(lazyProperties[i]);\n\t                    }\n\t\n\t                    promise.then(function () {\n\t                        resolve(object);\n\t                    });\n\t                }\n\t            }\n\t        }, {\n\t            key: 'inspectLazyProperties',\n\t            value: function inspectLazyProperties(object, lazyProperties) {\n\t                var _this5 = this;\n\t\n\t                var _loop = function _loop(key) {\n\t                    if (!object.hasOwnProperty(key)) {\n\t                        return 'continue';\n\t                    }\n\t\n\t                    var value = object[key];\n\t                    if (value instanceof Function) {\n\t                        lazyProperties.push(function () {\n\t                            return value().then(function (actualValue) {\n\t                                object[key] = actualValue;\n\t                            });\n\t                        });\n\t                        return 'continue';\n\t                    }\n\t                    if (value instanceof Object) {\n\t                        _this5.inspectLazyProperties(value, lazyProperties);\n\t                        return {\n\t                            v: void 0\n\t                        };\n\t                    }\n\t                };\n\t\n\t                for (var key in object) {\n\t                    var _ret = _loop(key);\n\t\n\t                    switch (_ret) {\n\t                        case 'continue':\n\t                            continue;\n\t\n\t                        default:\n\t                            if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t                    }\n\t                }\n\t            }\n\t        }, {\n\t            key: 'createStubs',\n\t            value: function createStubs(key) {\n\t                if (this.hasStubs(key)) {\n\t                    return;\n\t                }\n\t                var self = this;\n\t                this.api[key] = this.fx._lazyProperties.reduce(function (map, property) {\n\t                    map[property] = function () {\n\t                        return new Promise(function (resolve) {\n\t                            return resolve(self.api[key][property]);\n\t                        });\n\t                    };\n\t                    return map;\n\t                }, {});\n\t                this.api[key].__stub__ = true;\n\t            }\n\t        }, {\n\t            key: 'isLoaded',\n\t            value: function isLoaded(key) {\n\t                return this.api[key] && !this.hasStubs(key);\n\t            }\n\t        }, {\n\t            key: 'hasStubs',\n\t            value: function hasStubs(key) {\n\t                return this.api[key] && this.api[key].__stub__;\n\t            }\n\t        }]);\n\t\n\t        return Fixture;\n\t    }();\n\t\n\t    var Lazy = function () {\n\t        function Lazy(fx, name) {\n\t            _classCallCheck(this, Lazy);\n\t\n\t            this.fx = fx;\n\t            this.name = name;\n\t            this.data = {};\n\t            this.api = this.createApi();\n\t        }\n\t\n\t        _createClass(Lazy, [{\n\t            key: 'createApi',\n\t            value: function createApi() {\n\t                var _this6 = this;\n\t\n\t                var api = function api(key, data) {\n\t                    _this6.createLazyStubs(key);\n\t                    _this6.data[key] = data;\n\t                };\n\t                api.self = this;\n\t                return api;\n\t            }\n\t        }, {\n\t            key: 'getData',\n\t            value: function getData(key) {\n\t                return this.data[key];\n\t            }\n\t        }, {\n\t            key: 'createLazyStubs',\n\t            value: function createLazyStubs(key) {\n\t                var _this7 = this;\n\t\n\t                if (this.hasStubs(key)) {\n\t                    return;\n\t                }\n\t                this.api[key] = this.fx._lazyProperties.reduce(function (map, property) {\n\t                    map[property] = function () {\n\t                        return _this7.getFixtureRef().load(key)().then(function (object) {\n\t                            return object[property];\n\t                        });\n\t                    };\n\t                    return map;\n\t                }, {});\n\t                this.api[key].__stub__ = true;\n\t            }\n\t        }, {\n\t            key: 'hasStubs',\n\t            value: function hasStubs(key) {\n\t                return this.api[key] && this.api[key].__stub__;\n\t            }\n\t        }, {\n\t            key: 'getFixtureRef',\n\t            value: function getFixtureRef() {\n\t                return this.fx[this.name].self;\n\t            }\n\t        }]);\n\t\n\t        return Lazy;\n\t    }();\n\t\n\t    return new Fixtures();\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** yawp.fixtures.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e4498e7dcf6ad1ef51a4\n **/","import request from './request';\n\nvar fx = require('./../commons/fixtures')(request);\n\nif (yawp) {\n    yawp.fixtures = fx;\n}\n\nexport default fx;\n\n\n/** WEBPACK FOOTER **\n ** ./src/web/index.fixtures.js\n **/","import { extend, toUrlParam } from '../commons/utils';\n\nexport default function (url, options) {\n    return new Promise((resolve, reject) => {\n        var query = options.query;\n        delete options.query;\n\n        var request = new XMLHttpRequest();\n\n        request.onreadystatechange = function () {\n            resolveOrReject(request, options, resolve, reject);\n        };\n\n        request.open(options.method, url + (query ? '?' + toUrlParam(query) : ''));\n        setHeaders(request, options.headers);\n        setCrossDomain(request, options.credentials);\n        request.send(options.body);\n    });\n}\n\nfunction resolveOrReject(request, options, resolve, reject) {\n    if (request.readyState === 4) {\n        if (request.status === 200) {\n            resolve(options.json ? JSON.parse(request.responseText) : request.responseText);\n        } else {\n            reject(request);\n        }\n    }\n}\n\nfunction setCrossDomain(request, credentials) {\n    if (!credentials || credentials === \"omit\") {\n        return;\n    }\n    request.withCredentials = true;\n}\n\nfunction setHeaders(request, headers) {\n    headers = headers || {};\n    extend(headers, {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json;charset=UTF-8',\n    });\n    for (var key in headers) {\n        if (headers.hasOwnProperty(key)) {\n            request.setRequestHeader(key, headers[key]);\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/web/request.js\n **/","export function extend() {\n    var result = arguments[0] || {};\n\n    for (var i = 1, l = arguments.length; i < l; i++) {\n        var obj = arguments[i];\n        for (var attrname in obj) {\n            result[attrname] = obj[attrname];\n        }\n    }\n\n    return result;\n}\n\nexport function toUrlParam(jsonParams) {\n    return Object.keys(jsonParams).map(function (k) {\n        return encodeURIComponent(k) + '=' + encodeURIComponent(jsonParams[k]);\n    }).join('&');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/commons/utils.js\n **/","import { extend } from './utils';\n\nconst DEFAULT_BASE_URL = '/fixtures';\nconst DEFAULT_RESET_URL = '/_ah/yawp/datastore/delete-all';\nconst DEFAULT_LAZY_PROPERTIES = ['id']; // needed till harmony proxies\n\nexport default (request) => {\n\n    class Fixtures {\n        constructor() {\n            this._baseUrl = DEFAULT_BASE_URL;\n            this._resetUrl = DEFAULT_RESET_URL;\n            this._lazyProperties = DEFAULT_LAZY_PROPERTIES;\n            this.promise = null;\n            this.fixtures = [];\n            this.lazy = {};\n        }\n\n        config(callback) {\n            callback(this);\n        }\n\n        baseUrl(url) {\n            this._baseUrl = url;\n        }\n\n        resetUrl(url) {\n            this._resetUrl = url;\n        }\n\n        lazyProperties(properties) {\n            this._lazyProperties = properties;\n        }\n\n        reset(all) {\n            return request(this._resetUrl, {\n                method: 'GET'\n            }).then(() => {\n                this.clear(all);\n            });\n        }\n\n        clear(all) {\n            this.promise = null;\n            for (let i = 0, l = this.fixtures.length; i < l; i++) {\n                var name = this.fixtures[i].name;\n                var path = this.fixtures[i].path;\n                this.bindFixture(name, path);\n                all && this.bindLazy(name, path);\n            }\n        }\n\n        bind(name, path) {\n            this.fixtures.push({name, path});\n            this.bindFixture(name, path);\n            this.bindLazy(name);\n        }\n\n        bindFixture(name, path) {\n            this[name] = new Fixture(this, name, path).api;\n        }\n\n        bindLazy(name) {\n            this.lazy[name] = new Lazy(this, name).api;\n        }\n\n        chain(promiseFn) {\n            if (!this.promise) {\n                this.promise = promiseFn();\n            } else {\n                this.promise = this.promise.then(promiseFn)\n            }\n            return this.promise;\n        }\n\n        load(callback) {\n            if (!this.promise) {\n                return new Promise(() => callback && callback());\n            }\n            return this.promise.then(() => callback && callback());\n        }\n    }\n\n    class Fixture {\n        constructor(fx, name, path) {\n            this.fx = fx;\n            this.name = name;\n            this.path = path;\n            this.api = this.createApi();\n        }\n\n        createApi() {\n            var api = (key, data) => {\n                return this.fx.chain(this.load(key, data));\n            };\n            api.self = this;\n            return api;\n        }\n\n        url() {\n            return this.fx._baseUrl + this.path;\n        }\n\n        load(key, data) {\n            this.createStubs(key);\n            return this.createLoadPromiseFn(key, data);\n        }\n\n        createLoadPromiseFn(key, data) {\n            if (!data) {\n                data = this.getLazyDataFor(key);\n            }\n\n            return () => {\n                if (this.isLoaded(key)) {\n                    return this.api[key];\n                }\n\n                return this.prepare(data).then((object) => {\n                    return request(this.url(), {\n                        method: 'POST',\n                        json: true,\n                        body: JSON.stringify(object)\n                    }).then((response) => {\n                        this.api[key] = response;\n                        return response;\n\n                    })\n                });\n            }\n        }\n\n        getLazyDataFor(key) {\n            var lazy = this.fx.lazy[this.name].self;\n            return lazy.getData(key);\n        }\n\n        prepare(data) {\n            return new Promise((resolve) => {\n                let object = {};\n                extend(object, data);\n\n                let lazyProperties = [];\n                this.inspectLazyProperties(object, lazyProperties);\n                this.resolveLazyProperties(object, lazyProperties, resolve);\n            });\n        }\n\n        resolveLazyProperties(object, lazyProperties, resolve) {\n            if (!lazyProperties.length) {\n                resolve(object);\n            } else {\n                var promise = lazyProperties[0]();\n                for (var i = 1, l = lazyProperties.length; i < l; i++) {\n                    promise = promise.then(lazyProperties[i]);\n                }\n\n                promise.then(() => {\n                    resolve(object);\n                });\n            }\n        }\n\n        inspectLazyProperties(object, lazyProperties) {\n            for (let key in object) {\n                if (!object.hasOwnProperty(key)) {\n                    continue;\n                }\n\n                let value = object[key];\n                if (value instanceof Function) {\n                    lazyProperties.push(() => {\n                        return value().then((actualValue) => {\n                            object[key] = actualValue;\n                        });\n                    });\n                    continue;\n                }\n                if (value instanceof Object) {\n                    this.inspectLazyProperties(value, lazyProperties);\n                    return;\n                }\n            }\n        }\n\n        createStubs(key) {\n            if (this.hasStubs(key)) {\n                return;\n            }\n            let self = this;\n            this.api[key] = this.fx._lazyProperties.reduce((map, property) => {\n                map[property] = () => {\n                    return new Promise((resolve) => resolve(self.api[key][property]));\n                }\n                return map;\n            }, {});\n            this.api[key].__stub__ = true;\n        }\n\n        isLoaded(key) {\n            return this.api[key] && !this.hasStubs(key);\n        }\n\n        hasStubs(key) {\n            return this.api[key] && this.api[key].__stub__;\n        }\n    }\n\n    class Lazy {\n        constructor(fx, name) {\n            this.fx = fx;\n            this.name = name;\n            this.data = {};\n            this.api = this.createApi();\n        }\n\n        createApi() {\n            let api = (key, data) => {\n                this.createLazyStubs(key);\n                this.data[key] = data;\n            };\n            api.self = this;\n            return api;\n        }\n\n        getData(key) {\n            return this.data[key];\n        }\n\n        createLazyStubs(key) {\n            if (this.hasStubs(key)) {\n                return;\n            }\n            this.api[key] = this.fx._lazyProperties.reduce((map, property) => {\n                map[property] = () => {\n                    return this.getFixtureRef().load(key)().then((object) => object[property]);\n                };\n                return map;\n            }, {});\n            this.api[key].__stub__ = true;\n        }\n\n        hasStubs(key) {\n            return this.api[key] && this.api[key].__stub__;\n        }\n\n        getFixtureRef() {\n            return this.fx[this.name].self;\n        }\n    }\n\n    return new Fixtures();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/commons/fixtures.js\n **/"],"sourceRoot":""}